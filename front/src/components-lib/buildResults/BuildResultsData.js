import AppHelper from 'helpers/AppHelper'
import AuthHelper from 'helpers/AuthHelper'

import {Utils, BaseData}  from 'ap-react-bootstrap'

/* This class was auto-generated by the JavaScriptWriter */
class BuildResultsData extends BaseData {
	register(obj) {
		super.register(obj)

        this.obj.onClickShow = this.onClickShow.bind(this)

        let buildResults = this.obj.props.buildResults
        Utils.map(buildResults).sort(this._sortByDate)

        let showResult = {}
        for (let key in buildResults)
        	showResult[key] = false

		this.obj.state = {  
			showResult: showResult,
            buildResults: buildResults
		}
	}

    _sortByDate(buildResult1, buildResult2) {
        return new Date(buildResult2.creationDate) - new Date(buildResult1.creationDate)
    }

    onClickShow(id) {
    	let showResult = this.getState('showResult')
    	showResult[id] = !showResult[id]
    	this.setState({showResult: showResult})
    }
    
    unregister() {
    }
}

var BuildResultsDataObj = new BuildResultsData();
export default BuildResultsDataObj;